{"version":3,"file":"static/js/569.ab45ed21.chunk.js","mappings":"+MAiGA,UA3FqB,SAACA,GAAwB,IAAD,EAC3C,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KAEMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,IAc3CC,EAAAA,EAAAA,YAAU,WAICC,MAAM,GAAD,OAFG,gCAEH,gCAHE,mCAGF,4DACoFH,IAE7FI,MAAK,SAAAC,GACJ,GAAIA,EAAIC,GACN,OAAOD,EAAIE,MAEd,IACAH,MAAK,SAAAC,GAAG,OAAIb,EAAUa,EAAIG,QAAlB,IACRC,OAAM,SAAAC,GAAK,OAAIC,EAAAA,GAAAA,MAAA,UAAeD,EAAME,SAAzB,GAIjB,GAAE,CAACZ,IAUJ,OACE,iCACE,gBAAKa,UAAU,kBAAf,UACE,kBAAMA,UAAU,aAAaC,KAAK,SAASC,SAT5B,SAAAC,GACnBA,EAAEC,iBAEFvB,EAAS,GACV,EAKK,WACE,kBACEmB,UAAU,oBACVK,KAAK,SACLC,YAAY,SACZ,aAAW,SACX1B,MAAOO,EACPoB,SAjDgB,SAAAC,GACxB,IAAM5B,EAAQ4B,EAAIC,OAAO7B,MACzB,GAAc,KAAVA,EACF,OAAOM,EAAgB,CAAC,GAG1BA,EAAgB,CACdC,MAAOP,GAEV,KA0CO,mBAAQoB,UAAU,4BAA4BK,KAAK,SAAnD,yBAOH3B,EAAOgC,OAAS,IACf,eAAIV,UAAU,kCAAd,SACGtB,EAAOiC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,SAAC,KAAD,CAEEC,GAAE,kBAAaF,GACfG,MAAO,CAAEC,KAAMlC,GACfkB,UAAU,kBAJZ,SAMGa,GALID,EAFG,MAYfhC,IAAUO,IACT,cAAGa,UAAU,MAAb,2EAMP,C","sources":["components/SearchMovies/SearchMovies.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst SearchMovies = (createSearchMovies) => {\n  const [movies, setMovies] = useState([]);\n  const [value, setValue] = useState('');\n\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const movie = searchParams.get('movie') ?? '';\n\n  const updateQueryString = evt => {\n    const value = evt.target.value;\n    if (value === '') {\n      return setSearchParams({});\n    }\n\n    setSearchParams({\n      movie: value,\n    });\n  };\n\n\n  useEffect(() => {\n    const API_KEY = '70f59e22c7b6a563dca5a024c7d2f94b';\n    const BASE_URL = 'https://api.themoviedb.org/3/';\n    const getSearchMovies = () => {\n      return fetch(\n        `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${movie}`\n      )\n        .then(res => {\n          if (res.ok) {\n            return res.json();\n          }\n        })\n        .then(res => setMovies(res.results))\n        .catch(error => toast.error(`${error.message}`));\n    };\n\n    getSearchMovies();\n  }, [movie]);\n\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    setValue('');\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid\">\n        <form className=\"d-flex m-5\" role=\"search\" onSubmit={handleSubmit}>\n          <input\n            className=\"form-control me-2\"\n            type=\"search\"\n            placeholder=\"Search\"\n            aria-label=\"Search\"\n            value={movie}\n            onChange={updateQueryString}\n          />\n          <button className=\"btn btn-outline-secondary\" type=\"submit\">\n            Search\n          </button>\n        </form>\n      </div>\n\n      {/* {value === '' && <p>Enter the title of the movie.</p>} */}\n      {movies.length > 0 && (\n        <ul className=\"list-group list-group-flush m-5\">\n          {movies.map(({ id, title }) => (\n            <Link\n              key={id}\n              to={`/movies/${id}`}\n              state={{ from: location }}\n              className=\"list-group-item\"\n            >\n              {title}\n            </Link>\n          ))}\n        </ul>\n      )}\n      {value !== movie && (\n        <p className=\"m-5\">\n          We don't have any movies matching this search. Try again...\n        </p>\n      )}\n    </>\n  );\n};\n\nexport default SearchMovies;\n"],"names":["createSearchMovies","useState","movies","setMovies","value","setValue","location","useLocation","useSearchParams","searchParams","setSearchParams","movie","get","useEffect","fetch","then","res","ok","json","results","catch","error","toast","message","className","role","onSubmit","e","preventDefault","type","placeholder","onChange","evt","target","length","map","id","title","to","state","from"],"sourceRoot":""}